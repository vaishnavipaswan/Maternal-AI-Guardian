        const translations = {
            en: {
                appName: "MAG",
                prediction: "Health Prediction",
                timeline: "Timeline",
                books: "Books",
                doctor: "Doctor Assistance",
                heroTitle: "Maternal AI Guardian",
                heroSubtitle: "AI-powered health predictions, personalized care, and comprehensive support for expecting mothers and fathers",
                momAccount: "Mother's Account",
                momDescription: "Comprehensive health tracking with offline risk calculations and disease predictions for expecting mothers.",
                dadAccount: "Father's Support",
                dadDescription: "Guidance for fathers on supporting their partner, meal planning, and understanding pregnancy health.",
                doctorAssistance: "Doctor Assistance",
                doctorDescription: "Connect with healthcare professionals in your area for personalized medical guidance.",
                accessAccount: "Access Account",
                findDoctor: "Find Doctor",
                healthPrediction: "Health Risk Prediction",
                age: "Age",
                heartRate: "Heart Rate (bpm)",
                bodyTemp: "Body Temperature (°F)",
                bloodSugar: "Blood Sugar (mg/dL)",
                systolicBP: "Systolic BP (mmHg)",
                diastolicBP: "Diastolic BP (mmHg)",
                swelling: "Swelling",
                nausea: "Nausea",
                abdominalPain: "Abdominal Pain",
                vaginalBleeding: "Vaginal Bleeding",
                stressLevel: "Stress Level (1-10)",
                depressionSymptoms: "Depression Symptoms",
                sleepQuality: "Sleep Quality (1-10)",
                diabetes: "Diabetes",
                anemia: "Anemia",
                priorMiscarriage: "Prior Miscarriage",
                no: "No",
                yes: "Yes",
                calculateRisk: "Calculate Risk",
                riskAssessment: "Risk Assessment Result",
                pregnancyTimeline: "Pregnancy Risk Timeline",
                pregnancyBooks: "Pregnancy Education Books",
                doctorAssistanceTitle: "Doctor Assistance by Location",
                location: "Enter your location:",
                findNearbyDoctors: "Find Nearby Doctors",
                emergencyTitle: "Emergency Contacts",
                callHusband: "Call Husband",
                callDoctor: "Call Doctor",
                callAmbulance: "Call Ambulance",
                emergencyNote: "In case of emergency, tap the appropriate button to make a call.",
                readBook: "Read Book",
                week1: "Week 1-4:",
                week1desc: "Initial pregnancy symptoms. Monitor nausea and fatigue levels.",
                week2: "Week 5-8:",
                week2desc: "Critical organ development. Avoid alcohol and maintain folic acid intake.",
                week3: "Week 9-12:",
                week3desc: "First trimester screening. Monitor blood pressure and weight gain.",
                week4: "Week 13-16:",
                week4desc: "Second trimester begins. Energy levels typically improve.",
                week5: "Week 17-20:",
                week5desc: "Anatomy scan period. Monitor fetal movements.",
                week6: "Week 21-24:",
                week6desc: "Viability milestone. Watch for preterm labor signs.",
                week7: "Week 25-28:",
                week7desc: "Glucose screening. Monitor for gestational diabetes.",
                week8: "Week 29-32:",
                week8desc: "Third trimester monitoring. Watch blood pressure closely.",
                week9: "Week 33-36:",
                week9desc: "Preparation for delivery. Monitor for preeclampsia signs.",
                week10: "Week 37-40:",
                week10desc: "Full term. Ready for delivery. Watch for labor signs.",
                book1: "What to Expect When You're Expecting",
                book1desc: "Comprehensive pregnancy guide",
                book2: "The Pregnancy Bible",
                book2desc: "Week-by-week pregnancy information",
                book3: "Nurture",
                book3desc: "Science-based pregnancy advice",
                book4: "The First Forty Days",
                book4desc: "Postpartum recovery guide",
                book5: "Bringing Up Bébé",
                book5desc: "French parenting wisdom",
                book6: "The Expectant Father",
                book6desc: "Guide for expecting fathers"
            },
            hi: {
                appName: "मातृ देखभाल",
                prediction: "स्वास्थ्य भविष्यवाणी",
                timeline: "समयरेखा",
                books: "पुस्तकें",
                doctor: "डॉक्टर सहायता",
                heroTitle: "संपूर्ण गर्भावस्था देखभाल प्लेटफॉर्म",
                heroSubtitle: "AI-संचालित स्वास्थ्य भविष्यवाणियां, व्यक्तिगत देखभाल, और गर्भवती माताओं और पिताओं के लिए व्यापक सहायता",
                momAccount: "माता का खाता",
                momDescription: "गर्भवती माताओं के लिए ऑफ़लाइन जोखिम गणना और रोग भविष्यवाणी के साथ व्यापक स्वास्थ्य ट्रैकिंग।",
                dadAccount: "पिता का समर्थन",
                dadDescription: "पिताओं के लिए अपनी साथी का समर्थन करने, भोजन की योजना बनाने और गर्भावस्था स्वास्थ्य को समझने के लिए मार्गदर्शन।",
                doctorAssistance: "डॉक्टर सहायता",
                doctorDescription: "व्यक्तिगत चिकित्सा मार्गदर्शन के लिए अपने क्षेत्र में स्वास्थ्य पेशेवरों से जुड़ें।",
                accessAccount: "खाता एक्सेस करें",
                findDoctor: "डॉक्टर खोजें",
                healthPrediction: "स्वास्थ्य जोखिम भविष्यवाणी",
                age: "उम्र",
                heartRate: "हृदय गति (बीपीएम)",
                bodyTemp: "शरीर का तापमान (°F)",
                bloodSugar: "रक्त शर्करा (mg/dL)",
                systolicBP: "सिस्टोलिक बीपी (mmHg)",
                diastolicBP: "डायस्टोलिक बीपी (mmHg)",
                swelling: "सूजन",
                nausea: "मतली",
                abdominalPain: "पेट दर्द",
                vaginalBleeding: "योनि से रक्तस्राव",
                stressLevel: "तनाव स्तर (1-10)",
                depressionSymptoms: "अवसाद के लक्षण",
                sleepQuality: "नींद की गुणवत्ता (1-10)",
                diabetes: "मधुमेह",
                anemia: "एनीमिया",
                priorMiscarriage: "पूर्व गर्भपात",
                no: "नहीं",
                yes: "हाँ",
                calculateRisk: "जोखिम गणना करें",
                riskAssessment: "जोखिम मूल्यांकन परिणाम",
                pregnancyTimeline: "गर्भावस्था जोखिम समयरेखा",
                pregnancyBooks: "गर्भावस्था शिक्षा पुस्तकें",
                doctorAssistanceTitle: "स्थान के अनुसार डॉक्टर सहायता",
                location: "अपना स्थान दर्ज करें:",
                findNearbyDoctors: "नजदीकी डॉक्टर खोजें",
                emergencyTitle: "आपातकालीन संपर्क",
                callHusband: "पति को कॉल करें",
                callDoctor: "डॉक्टर को कॉल करें",
                callAmbulance: "एम्बुलेंस को कॉल करें",
                emergencyNote: "आपातकाल की स्थिति में, कॉल करने के लिए उपयुक्त बटन दबाएं।",
                readBook: "पुस्तक पढ़ें",
                week1: "सप्ताह 1-4:",
                week1desc: "प्रारंभिक गर्भावस्था के लक्षण। मतली और थकान के स्तर पर नज़र रखें।",
                week2: "सप्ताह 5-8:",
                week2desc: "महत्वपूर्ण अंग विकास। शराब से बचें और फोलिक एसिड का सेवन बनाए रखें।",
                week3: "सप्ताह 9-12:",
                week3desc: "पहली तिमाही स्क्रीनिंग। रक्तचाप और वजन बढ़ने पर नज़र रखें।",
                week4: "सप्ताह 13-16:",
                week4desc: "दूसरी तिमाही शुरू होती है। ऊर्जा का स्तर आमतौर पर बेहतर होता है।",
                week5: "सप्ताह 17-20:",
                week5desc: "शारीरिक स्कैन अवधि। भ्रूण की गतिविधियों पर नज़र रखें।",
                week6: "सप्ताह 21-24:",
                week6desc: "व्यवहार्यता मील का पत्थर। समय से पहले प्रसव के संकेतों को देखें।",
                week7: "सप्ताह 25-28:",
                week7desc: "ग्लूकोज स्क्रीनिंग। गर्भकालीन मधुमेह के लिए निगरानी करें।",
                week8: "सप्ताह 29-32:",
                week8desc: "तीसरी तिमाही निगरानी। रक्तचाप पर बारीकी से नज़र रखें।",
                week9: "सप्ताह 33-36:",
                week9desc: "प्रसव की तैयारी। प्री-एक्लेम्पसिया के संकेतों के लिए निगरानी करें।",
                week10: "सप्ताह 37-40:",
                week10desc: "पूर्ण अवधि। प्रसव के लिए तैयार। प्रसव के संकेतों को देखें।",
                book1: "जब आप गर्भवती हों तो क्या उम्मीद करें",
                book1desc: "व्यापक गर्भावस्था गाइड",
                book2: "गर्भावस्था बाइबल",
                book2desc: "सप्ताह-दर-सप्ताह गर्भावस्था जानकारी",
                book3: "पोषण",
                book3desc: "विज्ञान-आधारित गर्भावस्था सलाह",
                book4: "पहले चालीस दिन",
                book4desc: "प्रसवोत्तर रिकवरी गाइड",
                book5: "बेबे को पालना",
                book5desc: "फ्रांसीसी पालन-पोषण की बुद्धि",
                book6: "अपेक्षित पिता",
                book6desc: "अपेक्षित पिताओं के लिए गाइड"
            }
        };

        let currentLanguage = 'en';

        // Language switching functionality
        document.getElementById('languageSelect').addEventListener('change', function() {
            currentLanguage = this.value;
            updateLanguage();
        });

        function updateLanguage() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'BUTTON') {
                        if (element.placeholder !== undefined) {
                            element.placeholder = translations[currentLanguage][key];
                        } else {
                            element.textContent = translations[currentLanguage][key];
                        }
                    } else {
                        element.textContent = translations[currentLanguage][key];
                    }
                }
            });
        }

        // Health prediction functionality
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateRisk();
        });

        function calculateRisk() {
            // Get form values
            const formData = {
                age: parseInt(document.getElementById('age').value),
                heartRate: parseInt(document.getElementById('heartRate').value),
                bodyTemp: parseFloat(document.getElementById('bodyTemp').value),
                bloodSugar: parseInt(document.getElementById('bloodSugar').value),
                systolicBP: parseInt(document.getElementById('systolicBP').value),
                diastolicBP: parseInt(document.getElementById('diastolicBP').value),
                swelling: parseInt(document.getElementById('swelling').value),
                nausea: parseInt(document.getElementById('nausea').value),
                abdominalPain: parseInt(document.getElementById('abdominalPain').value),
                vaginalBleeding: parseInt(document.getElementById('vaginalBleeding').value),
                stressLevel: parseInt(document.getElementById('stressLevel').value),
                depressionSymptoms: parseInt(document.getElementById('depressionSymptoms').value),
                sleepQuality: parseInt(document.getElementById('sleepQuality').value),
                diabetes: parseInt(document.getElementById('diabetes').value),
                anemia: parseInt(document.getElementById('anemia').value),
                priorMiscarriage: parseInt(document.getElementById('priorMiscarriage').value)
            };

            // Simple risk calculation algorithm (this would be replaced with your ML model)
            let riskScore = 0;

            // Age factor
            if (formData.age < 20 || formData.age > 35) riskScore += 15;
            else if (formData.age > 30) riskScore += 5;

            // Vital signs
            if (formData.heartRate > 100 || formData.heartRate < 60) riskScore += 10;
            if (formData.bodyTemp > 100.4) riskScore += 15;
            if (formData.bloodSugar > 140) riskScore += 20;
            
            // Blood pressure
            if (formData.systolicBP > 140 || formData.diastolicBP > 90) riskScore += 25;
            if (formData.systolicBP > 160 || formData.diastolicBP > 100) riskScore += 35;

            // Symptoms
            if (formData.swelling) riskScore += 10;
            if (formData.abdominalPain) riskScore += 15;
            if (formData.vaginalBleeding) riskScore += 30;
            
            // Mental health
            if (formData.stressLevel > 7) riskScore += 10;
            if (formData.depressionSymptoms) riskScore += 15;
            if (formData.sleepQuality < 5) riskScore += 10;

            // Medical conditions
            if (formData.diabetes) riskScore += 20;
            if (formData.anemia) riskScore += 15;
            if (formData.priorMiscarriage) riskScore += 10;

            // Determine risk level
            let riskLevel, riskClass, recommendations;
            
            if (riskScore < 30) {
                riskLevel = currentLanguage === 'hi' ? 'कम जोखिम' : 'Low Risk';
                riskClass = 'risk-low';
                recommendations = currentLanguage === 'hi' ? 
                    'आपकी गर्भावस्था सामान्य रूप से चल रही है। नियमित चेकअप जारी रखें और स्वस्थ जीवनशैली बनाए रखें।' :
                    'Your pregnancy appears to be progressing normally. Continue with regular checkups and maintain a healthy lifestyle.';
            } else if (riskScore < 60) {
                riskLevel = currentLanguage === 'hi' ? 'मध्यम जोखिम' : 'Moderate Risk';
                riskClass = 'risk-moderate';
                recommendations = currentLanguage === 'hi' ? 
                    'कुछ चिंता के क्षेत्र हैं। अपने डॉक्टर से सलाह लें और अधिक बार चेकअप कराएं।' :
                    'There are some areas of concern. Consult with your doctor and consider more frequent checkups.';
            } else {
                riskLevel = currentLanguage === 'hi' ? 'उच्च जोखिम' : 'High Risk';
                riskClass = 'risk-high';
                recommendations = currentLanguage === 'hi' ? 
                    'तत्काल चिकित्सा सहायता की आवश्यकता है। कृपया अपने डॉक्टर से तुरंत संपर्क करें।' :
                    'Immediate medical attention is recommended. Please contact your healthcare provider immediately.';
            }

            // Display results
            const resultDiv = document.getElementById('riskResult');
            const contentDiv = document.getElementById('riskContent');
            const recommendationsDiv = document.getElementById('recommendations');

            resultDiv.className = `risk-result ${riskClass}`;
            resultDiv.style.display = 'block';

            contentDiv.innerHTML = `
                <h4>${currentLanguage === 'hi' ? 'जोखिम स्तर' : 'Risk Level'}: ${riskLevel}</h4>
                <p>${currentLanguage === 'hi' ? 'जोखिम स्कोर' : 'Risk Score'}: ${riskScore}/100</p>
                <div style="background: #f0f0f0; border-radius: 10px; height: 20px; margin: 10px 0;">
                    <div style="background: ${riskScore < 30 ? '#27ae60' : riskScore < 60 ? '#f39c12' : '#e74c3c'}; 
                                height: 100%; width: ${Math.min(riskScore, 100)}%; border-radius: 10px; transition: width 1s;"></div>
                </div>
            `;

            recommendationsDiv.innerHTML = `
                <h4>${currentLanguage === 'hi' ? 'सिफारिशें' : 'Recommendations'}:</h4>
                <p>${recommendations}</p>
                ${generatePersonalizedRecommendations(formData)}
            `;
        }

        function generatePersonalizedRecommendations(data) {
            let recs = [];
            
            if (data.bloodSugar > 140) {
                recs.push(currentLanguage === 'hi' ? 
                    '• मिठाई और प्रसंस्कृत खाद्य पदार्थों से बचें' :
                    '• Avoid sugary and processed foods');
            }
            
            if (data.systolicBP > 140) {
                recs.push(currentLanguage === 'hi' ? 
                    '• नमक का सेवन कम करें और आराम करें' :
                    '• Reduce salt intake and get adequate rest');
            }
            
            if (data.stressLevel > 7) {
                recs.push(currentLanguage === 'hi' ? 
                    '• योग और ध्यान का अभ्यास करें' :
                    '• Practice yoga and meditation');
            }
            
            if (data.sleepQuality < 5) {
                recs.push(currentLanguage === 'hi' ? 
                    '• नियमित नींद का कार्यक्रम बनाए रखें' :
                    '• Maintain a regular sleep schedule');
            }

            return recs.length > 0 ? '<ul>' + recs.map(r => `<li>${r}</li>`).join('') + '</ul>' : '';
        }

        // Show different sections
        function showSection(section) {
            // This would typically navigate to different pages or show different content
            alert(`Accessing ${section} account. This would navigate to the specific section.`);
        }

        // Emergency modal functions
        function showEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'block';
        }

        function closeEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'none';
        }

        function callEmergency(type) {
            // In a real app, this would initiate actual calls
            const messages = {
                husband: currentLanguage === 'hi' ? 'पति को कॉल कर रहे हैं...' : 'Calling husband...',
                doctor: currentLanguage === 'hi' ? 'डॉक्टर को कॉल कर रहे हैं...' : 'Calling doctor...',
                ambulance: currentLanguage === 'hi' ? 'एम्बुलेंस को कॉल कर रहे हैं...' : 'Calling ambulance...'
            };
            
            alert(messages[type]);
            closeEmergencyModal();
        }

        // Find doctors functionality
        function findDoctors() {
            const location = document.getElementById('locationInput').value;
            if (!location) {
                alert(currentLanguage === 'hi' ? 'कृपया स्थान दर्ज करें' : 'Please enter a location');
                return;
            }

            // Mock doctor data - in real app, this would be from a database
            const mockDoctors = [
                {
                    name: currentLanguage === 'hi' ? 'डॉ. प्रिया शर्मा' : 'Dr. Priya Sharma',
                    specialty: currentLanguage === 'hi' ? 'प्रसूति एवं स्त्री रोग विशेषज्ञ' : 'Obstetrician & Gynecologist',
                    phone: '+91-9876543210',
                    distance: '2.5 km'
                },
                {
                    name: currentLanguage === 'hi' ? 'डॉ. राज पटेल' : 'Dr. Raj Patel',
                    specialty: currentLanguage === 'hi' ? 'प्रसूति विशेषज्ञ' : 'Obstetrician',
                    phone: '+91-9876543211',
                    distance: '3.8 km'
                },
                {
                    name: currentLanguage === 'hi' ? 'डॉ. अनीता गुप्ता' : 'Dr. Anita Gupta',
                    specialty: currentLanguage === 'hi' ? 'मातृत्व विशेषज्ञ' : 'Maternal Medicine Specialist',
                    phone: '+91-9876543212',
                    distance: '5.2 km'
                }
            ];

            const doctorList = document.getElementById('doctorList');
            doctorList.innerHTML = `
                <h3>${currentLanguage === 'hi' ? 'नजदीकी डॉक्टर' : 'Nearby Doctors'} (${location})</h3>
                ${mockDoctors.map(doctor => `
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 1rem; margin: 1rem 0; border-radius: 8px;">
                        <h4>${doctor.name}</h4>
                        <p>${doctor.specialty}</p>
                        <p>${currentLanguage === 'hi' ? 'दूरी' : 'Distance'}: ${doctor.distance}</p>
                        <button class="btn" onclick="callDoctor('${doctor.phone}')">${currentLanguage === 'hi' ? 'कॉल करें' : 'Call'}: ${doctor.phone}</button>
                    </div>
                `).join('')}
            `;
        }

        function callDoctor(phone) {
            // In a real app, this would initiate a call
            alert(`${currentLanguage === 'hi' ? 'कॉल कर रहे हैं' : 'Calling'}: ${phone}`);
        }

        // Book reading functionality
        function openBook(bookId) {
            // In a real app, this would open the PDF or navigate to book content
            alert(`${currentLanguage === 'hi' ? 'पुस्तक खोल रहे हैं' : 'Opening book'}: ${bookId}`);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('emergencyModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Initialize the app
        updateLanguage();

        // Add some sample data for demonstration
        function loadSampleData() {
            document.getElementById('age').value = 28;
            document.getElementById('heartRate').value = 80;
            document.getElementById('bodyTemp').value = 98.6;
            document.getElementById('bloodSugar').value = 95;
            document.getElementById('systolicBP').value = 120;
            document.getElementById('diastolicBP').value = 80;
            document.getElementById('stressLevel').value = 5;
            document.getElementById('sleepQuality').value = 7;
        }

        // Add cultural and regional features
        function addCulturalFeatures() {
            // This would add region-specific dietary recommendations
            // Traditional medicine safety checker
            // Weather-based alerts
            // Festival/fasting guidance
        }

        // SMS functionality for basic phone users
        function setupSMSAlerts() {
            // This would integrate with SMS gateway for basic phone alerts
        }

        // Gamification elements
        function addGamification() {
            // Points system for healthy habits
            // Badges for milestones
            // Progress tracking
        }

        // Predictive timeline based on risk factors
        function updateTimelineBasedOnRisk(riskFactors) {
            // This would customize the timeline based on individual risk assessment
        }
